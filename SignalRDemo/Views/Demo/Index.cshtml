@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <title>Index</title>

    <script src="@Url.Content("~/Scripts/jquery-1.7.1.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.signalR.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery-ui-1.8.18.js")" type="text/javascript"></script>
    <link  href="@Url.Content("~/Content/themes/base/jquery.ui.all.css")" rel="stylesheet" type="text/css" />

    <script type="text/javascript">
        $(function () {
            var connection = $.connection('echo');

            connection.received(function (data) {
                $('#messages').append('<li>' + data + '</li>');
            });

            connection.start();

            $("#broadcast").click(function () {
                connection.send($('#msg').val());
            });


            var slideConnection = $.connection('slider');
            slideConnection.start();

            $("#slider").slider({
                slide: function (event, ui) {
                    slideConnection.send(ui.value);
                }
            });

            slideConnection.received(function (data) {
                if (data.connectionId != slideConnection.id) {
                    $("#slider").slider("value", data.value);
                    console.log(data.value);
                }
            });
        });
    </script>

    <style type="text/css">
        #slider
        {
            width: 500px;  
        }
    </style>

</head>
<body>
    <div>
        <input type="text" id="msg" />

        <input type="button" id="broadcast" value="broadcast" />
        <br />
        <br />
        <div id="slider"></div>

        <ul id="messages">
        </ul>
    </div>
</body>
</html>
